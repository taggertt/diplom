# QA-78 Бородовских Илья Дипломный проект «Тестировщик»
___

## План работы:
# 1.	Автоматизируемые сценарии: 
## **1.1 Позитивные сценарии**
+ Первичная оплата картой со статусом APPROVED
  * В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  * В поле месяц ввести значение от 01 до 12.
  * В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  * В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  * В поле cvc/ccv ввести любое трёхзначное число.
  * Нажать кнопку "Продолжить".

  <br>**Ожидаемый результат:** В pop-up окне появляется сообщение "Успешно. Операция одобрена банком". В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблицах payment_entity, order_entity<br>
  
+ Первичная покупа в кредит картой со статусом APPROVED
  * В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  * В поле месяц ввести значение от 01 до 12.
  * В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  * В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  * В поле cvc/ccv ввести любое трёхзначное число.
  * Нажать кнопку "Продолжить".

  <br>**Ожидаемый результат:** В pop-up окне появляется сообщение "Успешно. Операция одобрена банком". В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблицах credit_request_entity, order_entity.<br>
  
+ Первичная оплата картой со статусом DECLINED
  * В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  * В поле месяц ввести значение от 01 до 12.
  * В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  * В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  * В поле cvc/ccv ввести любое трёхзначное число.
  * Нажать кнопку "Продолжить".

  <br>**Ожидаемый результат:** В pop-up окне появляется сообщение "Ошибка! Банк отказал в проведении операции". В базе данных MySQL и PostgreSQL не должны появиться записи о транзакции в таблицах payment_entity, order_entity<br>
  
+ Первичная оплата в кредит картой со статусом DECLINED
  * В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  * В поле месяц ввести значение от 01 до 12.
  * В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  * В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  * В поле cvc/ccv ввести любое трёхзначное число.
  * Нажать кнопку "Продолжить".

  <br>**Ожидаемый результат:** В pop-up окне появляется сообщение "Ошибка! Банк отказал в проведении операции". В базе данных MySQL и PostgreSQL не должны появиться записи о транзакции в таблицах credit_request_entity, order_entity.<br>

## **1.2 Негативные сценарии**
### **Для оплаты тура по карте**
  <br>Предустановки: переход на страницу "Оплата по карте".<br>
  + Отправка данных с пустыми полями
    * Все поля не заполнены.
    * Нажать кнопку "Продолжить".

    <br>**Ожидаемый результат:** Под каждым полем появляется текст подсказки: "неверный формат".<br>

  + Ввод невалидных данных во всех полях.
    * В поле номер карты ввести цифру (0-9) сгенерированную случайным образом
    * В поле месяц ввести "0"
    * В поле год ввести "0"
    * В поле "Владелец" ввести " "
    * В поле cvc/ccv ввести цифру (0-9) сгенерированную случайным образом
    * Нажать кнопку "продложить"
   
    **Ожидаемый результат:** Под каждым полем появляется подсказка "неверный формат". Запрос не отправляется.

  + Ввод логически неверной даты в поле месяц и год
    * В поле номер карты ввести 16 цифр сгенерированных случайным образом
    * В поле месяц ввести номер месяца на один меньше текущего "07"
    * В поле год ввести текущий год в двузначном выражении "24"
    * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
    * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
    * Нажать кнопку "продолжить"
   
    **Ожидаемый результат:** Под полем месяц появлется подсказка "неверно указан срок действия карты". Запрос не отправляется.
 
 + Ввод года на 6 лет вперёд
   * В поле номер карты ввести 16 цифр сгенерированных случайным образом
   * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
   * В поле год ввести "30"
   * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
   * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
   * Нажать кнопку "продолжить"
  
   **Ожидаемый результат:** Под полем год появляется подсказка "неверно указан срок действия карты". Запрос не отправляется.

+ Ввод даты с истекшим годом
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем год появляется подсказка "Истёк срок действия карты". Запрос не отправяется.

+ Ввод владельца кириллицей
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 кириллических символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

+ Ввод владельца цифрами
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 цифр сгенерированных случайным образом
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

 + Ввод владельца спец символами
   * В поле номер карты ввести 16 цифр сгенерированных случайным образом
   * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
   * В поле год ввести год (00-23) сгенерированный случайным образом
   * В поле Владелец ввести "<>!?@"
   * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
   * Нажать кнопку "продолжить"
   
   **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

+ Ввод несуществующего номера карты
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** В pop-up окне поялвяется сообщение "Ошибка! Банк отказал в проведении операции"

### **Для оплаты тура в кредит**
  Предустановки: переход на страницу "кредит по данным карты".
  + Отправка данных с пустыми полями
    * Все поля не заполнены.
    * Нажать кнопку "Продолжить".

    <br>**Ожидаемый результат:** Под каждым полем появляется текст подсказки: "неверный формат".<br>

  + Ввод невалидных данных во всех полях.
    * В поле номер карты ввести цифру (0-9) сгенерированную случайным образом
    * В поле месяц ввести "0"
    * В поле год ввести "0"
    * В поле "Владелец" ввести " "
    * В поле cvc/ccv ввести цифру (0-9) сгенерированную случайным образом
    * Нажать кнопку "продложить"
   
    **Ожидаемый результат:** Под каждым полем появляется подсказка "неверный формат". Запрос не отправляется.

  + Ввод логически неверной даты в поле месяц и год
    * В поле номер карты ввести 16 цифр сгенерированных случайным образом
    * В поле месяц ввести номер месяца на один меньше текущего "07"
    * В поле год ввести текущий год в двузначном выражении "24"
    * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
    * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
    * Нажать кнопку "продолжить"
   
    **Ожидаемый результат:** Под полем месяц появлется подсказка "неверно указан срок действия карты". Запрос не отправляется.
 
 + Ввод года на 6 лет вперёд
   * В поле номер карты ввести 16 цифр сгенерированных случайным образом
   * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
   * В поле год ввести "30"
   * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
   * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
   * Нажать кнопку "продолжить"
  
   **Ожидаемый результат:** Под полем год появляется подсказка "неверно указан срок действия карты". Запрос не отправляется.

+ Ввод даты с истекшим годом
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем год появляется подсказка "Истёк срок действия карты". Запрос не отправяется.

+ Ввод владельца кириллицей
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 кириллических символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

+ Ввод владельца цифрами
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 цифр сгенерированных случайным образом
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

 + Ввод владельца спец символами
   * В поле номер карты ввести 16 цифр сгенерированных случайным образом
   * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
   * В поле год ввести год (00-23) сгенерированный случайным образом
   * В поле Владелец ввести "<>!?@"
   * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
   * Нажать кнопку "продолжить"
   
   **Ожидаемый результат:** Под полем владелец появляется подсказка "неверный формат". Запрос не отправляется.

+ Ввод несуществующего номера карты
  * В поле номер карты ввести 16 цифр сгенерированных случайным образом
  * В поле месяц ввести номер месяца сгенерированный случаным образом (01-12)
  * В поле год ввести год (00-23) сгенерированный случайным образом
  * В поле Владелец ввести 5 латинских символов сгенерированных с помощью faker
  * В поле cvc/ccv ввести трёхзначный номер сгенерированный случайным образом
  * Нажать кнопку "продолжить"
 
  **Ожидаемый результат:** В pop-up окне поялвяется сообщение "Ошибка! Банк отказал в проведении операции"
    
# 2.	Перечень используемых инструментов
   - IntelliJ IDEA - разработка автотестов.
   - JUnit 5 - мощный и удобный фреймворк для автотестов.
   - Docker - для развертывания и запуска приложения в контейнере. Можно одновременно запускать на одном компьютере несколько контейнеров, при этом будет потребляться меньше ресурсов, чем для виртуализации. Имеет удобную настройку контейнера через Dockerfile.
   - Selenide - так как работаем с веб-страницей и ищем появившиеся значения с помощью html и css, создание Page Objects, заполнение формы через веб-интерфейс. Работает с CSS-селекторами — специальный язык выражений, позволяющий осуществлять поиск на странице веб-интерфейса.
   - Faker - генерация недостающих данных для тестирования (заполнение поля "владелец").
   - Git и GitHub - для хранения проекта. Позволяет откатиться назад, если вдруг после очередных изменений что-то пошло не так и не удается исправить; код легко скачать и запустить, код доступен для совместного использования и разработки, имеется система CI.
   - Appveyor - для реализации CI&CD с удобным интерфейсом для настройки и обнаружения ошибок при сборке проекта.
# 3.	Риски
В отсутствии чётких требований возникает риск некорректного написания автотестов, где ожидаемый результат будет указан ошибочно. Проверки по картам будут осуществляться из ограниченного пула карт (2 шт.), возможен эффект пестицида, т.е. на текущих картах всё будет работать корректно, но на других данных возможны ошибки. <br/>Также проверка сервиса выглядит ограниченной, сам настроенный сервис по оплате существующей картой закрыт от тестирования, т.е. нельзя проверить реальное движение средств карты, нельзя посмотреть баланс. Мало полей для ввода данных, чтоб получить уникального пользователя. Т.к. данные о карте пользователя нельзя записывать в базу данных, при обращении за оплатой двух пользователей с одинаковыми именем и фамилией, система должна дать отказ, хотя это могут быть два разных пользователя. 
# 4.	Расчёт времени.
<br>Время на сборку базы и написание тестов и отчётов, последующим выкладыванием на GitHub и поднятием Appveyor – 120 часов.<br>
<br>Автотесты и отчёт об их проведении могут быть готовы через 48 часов после старта работы над проектом.<br>
