# QA-78 Бородовских Илья Дипломный проект «Тестировщик»
___

## План работы:
1.	Автоматизируемые сценарии: 
**Позитивные сценарии**
+ Первичная оплата дебетовой картой со статусом APPROVED
  В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".

  **Ожидаемый результат:** В pop-up окне появляется сообщение "Успешно. Операция одобрена банком"
  
+ Первичная оплата кредитной картой со статусом APPROVED
  В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".

  **Ожидаемый результат:** В pop-up окне появляется сообщение "Успешно. Операция одобрена банком"
  
+ Первичная оплата дебетовой картой со статусом DECLINED
  В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".

  **Ожидаемый результат:** В pop-up окне появляется сообщение "Ошибка! Банк отказал в проведении операции"
  
+ Первичная оплата кредитной картой со статусом DECLINED
  В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".

  **Ожидаемый результат:** В pop-up окне появляется сообщение "Ошибка! Банк отказал в проведении операции"

+ Изменения в СУБД после первичной оплаты дебитовой картой со статусом APPROVED
  В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".
  
  **Ожидаемый результат:** В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблицах payment_entity, order_entity
  
+ Изменения в СУБД после первичной оплаты кредитной картой со статусом APPROVED
  В поле номер карты ввести номер карты 4444 4444 4444 4441 (соответствует APPROVED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".
  
  **Ожидаемый результат:** В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблицах credit_request_entity, order_entity

+ Изменения в СУБД после первичной оплаты дебитовой картой со статусом DECLINED
  В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".
  
  **Ожидаемый результат:** В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблице payment_entity
  
+ Изменения в СУБД после первичной оплаты кредитной картой со статусом DECLINED
  В поле номер карты ввести номер карты 4444 4444 4444 4442 (соответствует DECLINED в файле data.json).
  В поле месяц ввести значение от 01 до 12.
  В после год ввести двузначный год, равный текущему или не более чем на 5 лет его превышающий.
  В поле "Владелец" с помощью библиотеки faker ввести имя и фамилию латиницей.
  В поле cvc/ccv ввести любое трёхзначное число.
  Нажать кнопку "Продолжить".
  
  **Ожидаемый результат:** В базе данных MySQL и PostgreSQL появляются записи о транзакции в таблице credit_request_entity

**Негативные сценарии**
- **Для оплаты тура по дебетовой карте**
  Предустановки: переход на страницу "Оплата по карте".
  + Отправка данных с пустыми полями
    Все поля не заполнены.
    Нажать кнопку "Продолжить".

    **Ожидаемый результат:** Под каждым полем появляется текст подсказки: "неверный формат"

  + Отправка валидных данных в одном поле с помощью faker, оставшиеся четыре не заполнены
    Заполняется одно поле валидным значением (остальные четыре не заполнены)
    Нажать кнопку "Продолжить".

    **Ожидаемый результат:** Под каждым полем незаполненым появляется текст подсказки: "неверный формат"

  + Ввод невалидных значений в поле номер карты
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "номер карты" появляется подсказка "неверный формат"

    * Ввод пятнадцати цифр. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "номер карты" появляется подсказка "неверный формат"

    * Ввод более шестнадцати цифр.
      **Ожидаемый результат:** Поле "номер карты" не принимает больше 16-ти знаков

  + Ввод невалидных значений в поле месяц
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверный формат"

    * Ввод 00. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверный формат"

    * Ввод 13. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверное значение"

  + Ввод невалидных значений в поле год
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ 
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод 23. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "год" появляется подсказка "неверное значение"

    * Ввод 30. Нажать на кнопку "продолжить.
      **Ожидаемый результат:** Под полем "год" появляется подсказка "неверное значение"

    * Ввод 24 в поле "год", ввод 07 в поле "месяц", другие поля заполняются валидными значениями. Нажать кнопку "продолжить".
      **Ожидаемый результат:** Под полем "месяц" появлется подсказка "неверно указан срок действия карты"

  + Ввод невалидных значений в поле "Владелец"
    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод цифры с помощью
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одного латинского символа с помощью faker. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "владелец" появляется подсказка "не принимает меньше 5 символов"

    * Ввод четырёх латинских символов с помощью faker. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "владелец" появляется подсказка "не принимает меньше 5 символов"

  + Ввод невалидных значений в поле "cvc/cvv"
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "cvc/cvv" появляется подсказка "неверный формат"

    * Ввод более трёх цифр.
      **Ожидаемый результат:** Поле не принимает больше 3х символов

  + Вторичная отправка раннее использованных данных для оплаты дебетовой картой
    В поле номер карты ввести "4444 4444 4444 4441" (статус карты APPROVED из data.json).
    В поле месяц ввести цифры от 01 до 12 случайным образом.
    В поле год ввести цифры от 25 до 29 случайным образом.
    В поле владелец ввести с помощью faker имя и фамилию латиницей.
    В поле cvc/cvv ввести три цифры случайным образом.
    Нажать на кнопку "продолжить"
    Проверить появление записей в таблицах БД payment_entity, order_entity
    Данные из полей не удалять, нажать повторно на кнопку "продолжить".

    **Ожидаемый результат:** Появется pop-up окно с текстом "Владелец данной карты уже оформлял покупку тура". В таблицах БД payment_entity, order_entity не должно появиться новых записей.

- **Для оплаты тура по кредитной карте**
  Предустановки: переход на страницу "кредит по данным карты".
  + Отправка данных с пустыми полями
    Все поля не заполнены.
    Нажать кнопку "Продолжить".

    **Ожидаемый результат:** Под каждым полем появляется текст подсказки: "неверный формат"

  + Отправка валидных данных в одном поле с помощью faker, оставшиеся четыре не заполнены
    Заполняется одно поле валидным значением (остальные четыре не заполнены)
    Нажать кнопку "Продолжить".

    **Ожидаемый результат:** Под каждым полем незаполненым появляется текст подсказки: "неверный формат"

  + Ввод невалидных значений в поле номер карты
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "номер карты" появляется подсказка "неверный формат"

    * Ввод пятнадцати цифр. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "номер карты" появляется подсказка "неверный формат"

    * Ввод более шестнадцати цифр.
      **Ожидаемый результат:** Поле "номер карты" не принимает больше 16-ти знаков

  + Ввод невалидных значений в поле месяц
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверный формат"

    * Ввод 00. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверный формат"

    * Ввод 13. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "месяц" появляется подсказка "неверное значение"

  + Ввод невалидных значений в поле год
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ 
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод 23. Нажать кнопку "продолжить"
      **Ожидаемый результат:** Под полем "год" появляется подсказка "неверное значение"

    * Ввод 30. Нажать на кнопку "продолжить.
      **Ожидаемый результат:** Под полем "год" появляется подсказка "неверное значение"

    * Ввод 24 в поле "год", ввод 07 в поле "месяц", другие поля заполняются валидными значениями. Нажать кнопку "продолжить".
      **Ожидаемый результат:** Под полем "месяц" появлется подсказка "неверно указан срок действия карты"

  + Ввод невалидных значений в поле "Владелец"
    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод цифры с помощью
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одного латинского символа с помощью faker. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "владелец" появляется подсказка "не принимает меньше 5 символов"

    * Ввод четырёх латинских символов с помощью faker. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "владелец" появляется подсказка "не принимает меньше 5 символов"

  + Ввод невалидных значений в поле "cvc/cvv"
    * Латинский символ
      **Ожидаемый результат:** Поле не принимает латинские символы

    * Кириллический символ
      **Ожидаемый результат:** Поле не принимает кириллические символы

    * Специальные символы
      **Ожидаемый результат:** Поле не принимает специальные символы

    * Ввод одной цифры. Нажать на кнопку "продолжить"
      **Ожидаемый результат:** Под полем "cvc/cvv" появляется подсказка "неверный формат"

    * Ввод более трёх цифр.
      **Ожидаемый результат:** Поле не принимает больше 3х символов

  + Вторичная отправка раннее использованных данных для оплаты кредитной картой
    В поле номер карты ввести "4444 4444 4444 4441" (статус карты APPROVED из data.json).
    В поле месяц ввести цифры от 01 до 12 случайным образом.
    В поле год ввести цифры от 25 до 29 случайным образом.
    В поле владелец ввести с помощью faker имя и фамилию латиницей.
    В поле cvc/cvv ввести три цифры случайным образом.
    Нажать на кнопку "продолжить"
    Проверить появление записей в таблицах БД credit_request_entity, order_entity
    Данные из полей не удалять, нажать повторно на кнопку "продолжить".

    **Ожидаемый результат:** Появется pop-up окно с текстом "Владелец данной карты уже оформлял покупку тура". В таблицах БД payment_entity, order_entity не должно появиться новых записей.
    
2.	Перечень используемых инструментов
   - IntelliJ IDEA - разработка автотестов.
   - JUnit 5 - мощный и удобный фреймворк для автотестов.
   - Docker - для развертывания и запуска приложения в контейнере. Можно одновременно запускать на одном компьютере несколько контейнеров, при этом будет потребляться меньше ресурсов, чем для виртуализации. Имеет удобную настройку контейнера через Dockerfile.
   - Selenide - так как работаем с веб-страницей и ищем появившиеся значения с помощью html и css, создание Page Objects, заполнение формы через веб-интерфейс. Работает с CSS-селекторами — специальный язык выражений, позволяющий осуществлять поиск на странице веб-интерфейса.
   - Faker - генерация недостающих данных для тестирования (заполнение поля "владелец").
   - Git и GitHub - для хранения проекта. Позволяет откатиться назад, если вдруг после очередных изменений что-то пошло не так и не удается исправить; код легко скачать и запустить, код доступен для совместного использования и разработки, имеется система CI.
   - Appveyor - для реализации CI&CD с удобным интерфейсом для настройки и обнаружения ошибок при сборке проекта.
4.	В отсутствии чётких требований возникает риск некорректного написания автотестов, где ожидаемый результат будет указан ошибочно. Проверки по картам будут осуществляться из ограниченного пула карт (2 шт.), возможен эффект пестицида, т.е. на текущих картах всё будет работать корректно, но на других данных возможны ошибки. <br/>Также проверка сервиса выглядит ограниченной, сам настроенный сервис по оплате существующей картой закрыт от тестирования, т.е. нельзя проверить реальное движение средств карты, нельзя посмотреть баланс. Мало полей для ввода данных, чтоб получить уникального пользователя. Т.к. данные о карте пользователя нельзя записывать в базу данных, при обращении за оплатой двух пользователей с одинаковыми именем и фамилией, система должна дать отказ, хотя это могут быть два разных пользователя. 
5.	Время на сборку базы и написание тестов и отчётов, последующим выкладыванием на GitHub и поднятием Appveyor – 120 часов.
6.	Автотесты и отчёт об их проведении могут быть готовы через 48 часов после старта работы над проектом.
